<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wagoora Global Edu-Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background: #020617; color: #f8fafc; font-family: 'Inter', sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .btn-glow { background: linear-gradient(135deg, #4f46e5, #9333ea); transition: 0.3s; }
        .btn-glow:hover { box-shadow: 0 0 20px rgba(79, 70, 229, 0.4); transform: scale(1.02); }
        .tab-active { border-left: 4px solid #818cf8; background: rgba(255,255,255,0.05); }
        input, select { background: #0f172a !important; color: white !important; border: 1px solid #334155 !important; padding: 12px; border-radius: 10px; width: 100%; }
    </style>
</head>
<body>

    <nav class="glass p-4 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <i class="fas fa-snowflake text-blue-400 text-2xl animate-pulse"></i>
                <h1 class="font-black tracking-widest text-xl">WAGOORA <span class="text-indigo-500 uppercase text-xs">v3.0</span></h1>
            </div>
            <div id="nav-info" class="hidden flex items-center gap-6">
                <span id="display-role" class="text-[10px] bg-indigo-500/20 px-3 py-1 rounded-full border border-indigo-500/40"></span>
                <button onclick="location.reload()" class="text-red-400 hover:text-red-300"><i class="fas fa-power-off"></i></button>
            </div>
        </div>
    </nav>

    <div class="container mx-auto p-4 mt-6">
        
        <section id="login-screen" class="max-w-md mx-auto py-20">
            <div class="glass p-8 rounded-[2.5rem] shadow-2xl">
                <h2 class="text-3xl font-bold mb-6 text-center">Portal Entry</h2>
                <div class="space-y-4">
                    <select id="role-select">
                        <option value="superadmin">Super Admin</option>
                        <option value="hoi">HOI Login</option>
                        <option value="student">Student Login</option>
                    </select>
                    <input type="text" id="user-field" placeholder="Username">
                    <input type="password" id="pass-field" placeholder="Password">
                    <button onclick="handleLogin()" class="w-full btn-glow p-4 rounded-xl font-bold uppercase tracking-widest">Authorize</button>
                </div>
            </div>
        </section>

        <section id="main-dashboard" class="hidden grid grid-cols-1 lg:grid-cols-4 gap-8">
            
            <aside id="sidebar" class="space-y-3">
                <div id="sa-links" class="hidden space-y-2">
                    <button onclick="showPanel('schools')" class="w-full text-left p-4 glass rounded-xl hover:bg-white/5 transition"><i class="fas fa-school mr-3"></i> Schools</button>
                    <button onclick="showPanel('subjects')" class="w-full text-left p-4 glass rounded-xl hover:bg-white/5 transition"><i class="fas fa-book mr-3"></i> Global Subjects</button>
                    <button onclick="showPanel('syllabus')" class="w-full text-left p-4 glass rounded-xl hover:bg-white/5 transition"><i class="fas fa-scroll mr-3"></i> Syllabus Control</button>
                </div>
                <div id="student-links" class="hidden space-y-2">
                    <div class="glass p-6 rounded-2xl mb-4 text-center">
                        <p class="text-xs text-gray-400 uppercase">My Wallet</p>
                        <p class="text-4xl font-black text-yellow-500">ðŸ’° <span id="coin-bal">0</span></p>
                    </div>
                </div>
            </aside>

            <main class="lg:col-span-3">
                
                <div id="panel-subjects" class="panel hidden glass p-8 rounded-[2.5rem] space-y-6">
                    <h2 class="text-2xl font-bold">Manage Global Subjects</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <input type="text" id="sub-name" placeholder="Subject Name">
                        <select id="sub-cat">
                            <option value="Foundational">Foundational (Class 1-2)</option>
                            <option value="Primary">Primary (Class 3-5)</option>
                            <option value="Middle">Middle (Class 6-8)</option>
                            <option value="Secondary">Secondary (Class 9-10)</option>
                            <option value="Higher Secondary">Higher Secondary (Class 11-12)</option>
                        </select>
                    </div>
                    <button onclick="addGlobalSubject()" class="bg-indigo-600 px-8 py-3 rounded-xl font-bold">Add to Catalog</button>
                    
                    <div id="subject-list" class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8">
                        </div>
                </div>

                <div id="panel-student" class="panel hidden space-y-6">
                    <div class="glass p-8 rounded-[2.5rem]">
                        <h2 class="text-2xl font-bold mb-4">My Classroom: <span id="student-class-display" class="text-blue-400"></span></h2>
                        <p class="text-sm text-gray-500 mb-6 italic">Subject content filtered by your school category.</p>
                        
                        <div id="available-subjects" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            </div>
                    </div>
                </div>

                <div id="panel-schools" class="panel hidden glass p-8 rounded-[2.5rem] space-y-6">
                    <h3 class="text-2xl font-bold">Add School</h3>
                    <div class="flex gap-4">
                        <input type="text" id="sch-name" placeholder="School Name">
                        <input type="text" id="sch-hoi" placeholder="HOI User">
                        <button onclick="addSchool()" class="btn-glow px-8 rounded-xl font-bold">Save</button>
                    </div>
                    <div id="sch-list" class="space-y-2 mt-6"></div>
                </div>

            </main>
        </section>
    </div>

    <script>
        let app = {
            subjects: [
                {name: "English", cat: "Foundational"},
                {name: "Maths", cat: "Foundational"},
                {name: "Urdu", cat: "Foundational"},
                {name: "Kashmiri", cat: "Foundational"},
                {name: "EVS", cat: "Primary"},
                {name: "Science", cat: "Middle"},
                {name: "Social Science", cat: "Middle"}
            ],
            schools: [],
            user: null
        };

        function handleLogin() {
            const role = document.getElementById('role-select').value;
            const user = document.getElementById('user-field').value;
            
            app.user = { role, name: user };
            
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('main-dashboard').classList.remove('hidden');
            document.getElementById('nav-info').classList.remove('hidden');
            document.getElementById('display-role').innerText = role;

            if(role === 'superadmin') {
                document.getElementById('sa-links').classList.remove('hidden');
                showPanel('subjects');
            } else if (role === 'student') {
                document.getElementById('student-links').classList.remove('hidden');
                document.getElementById('panel-student').classList.remove('hidden');
                // Simulating student is in Class 4 (Primary)
                loadStudentView(4); 
            }
        }

        function showPanel(id) {
            document.querySelectorAll('.panel').forEach(p => p.classList.add('hidden'));
            document.getElementById('panel-' + id).classList.remove('hidden');
        }

        function addGlobalSubject() {
            const name = document.getElementById('sub-name').value;
            const cat = document.getElementById('sub-cat').value;
            if(name) {
                app.subjects.push({name, cat});
                renderSubjects();
                document.getElementById('sub-name').value = "";
            }
        }

        function renderSubjects() {
            const list = document.getElementById('subject-list');
            list.innerHTML = app.subjects.map(s => `
                <div class="p-4 glass rounded-xl border-l-4 border-indigo-500 flex justify-between">
                    <span>${s.name}</span>
                    <span class="text-[10px] text-indigo-400 uppercase font-bold">${s.cat}</span>
                </div>
            `).join('');
        }

        function addSchool() {
            const name = document.getElementById('sch-name').value;
            const hoi = document.getElementById('sch-hoi').value;
            if(name && hoi) {
                app.schools.push({name, hoi});
                document.getElementById('sch-list').innerHTML += `
                    <div class="p-3 glass rounded-lg flex justify-between">
                        <span>${name}</span> <span class="text-xs text-gray-500">HOI: ${hoi}</span>
                    </div>
                `;
            }
        }

        function loadStudentView(grade) {
            let cat = "";
            if(grade <= 2) cat = "Foundational";
            else if(grade <= 5) cat = "Primary";
            else if(grade <= 8) cat = "Middle";
            else if(grade <= 10) cat = "Secondary";
            else cat = "Higher Secondary";

            document.getElementById('student-class-display').innerText = "Class " + grade + " (" + cat + ")";
            
            const filtered = app.subjects.filter(s => {
                if(cat === "Foundational") return s.cat === "Foundational";
                if(cat === "Primary") return s.cat === "Foundational" || s.cat === "Primary";
                if(cat === "Middle") return s.cat === "Foundational" || s.name === "Science" || s.name === "Social Science";
                return true; // Simple logic for demo
            });

            document.getElementById('available-subjects').innerHTML = filtered.map(s => `
                <div class="p-4 glass rounded-xl text-center hover:bg-white/5 cursor-pointer border border-white/5">
                    <i class="fas fa-book-open text-blue-400 mb-2"></i>
                    <p class="text-xs font-bold">${s.name}</p>
                </div>
            `).join('');
        }
    </script>
</body>
</html>

